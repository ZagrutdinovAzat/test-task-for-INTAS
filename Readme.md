 # Система управления поездками курьеров

Этот проект представляет собой веб-приложение для управления поездками курьеров из Москвы в различные регионы. Оно позволяет пользователям добавлять и просматривать поездки курьеров, обеспечивая, чтобы курьер не был назначен на несколько поездок в один и тот же день.

## Функции

- Добавление новых поездок курьеров с указанием региона, курьера, даты выезда и времени в пути.
- Просмотр всех поездок или фильтрация поездок по дате.
- Обеспечение того, чтобы курьер не был назначен на несколько поездок в один и тот же день.

## Используемые технологии

- **Веб-сервер**: Nginx
- **Backend**: PHP (версия 7.4)
- **База данных**: MySQL
- **Фронтенд**: HTML, JavaScript
- **Контейнеризация**: Docker, Docker Compose

## Установка и настройка

### Предварительные условия

- Docker и Docker Compose должны быть установлены на вашем компьютере.

### Шаги

1. **Клонирование репозитория**:
    ```sh
    git clone <repository_url>
    cd <repository_directory>
    ```

2. **Сборка и запуск Docker-контейнеров**:
    ```sh
    docker-compose up -d --build
    ```

3. **Инициализация базы данных**:
   Инициализация базы данных происходит при запуске контейнеров, если возникли ошибки, моежете воспользоваться одним из двух методов:
   1.  
   ```sh
    docker-compose exec db sh -c 'exec mysql -u"\$MYSQL_USER" -p"\$MYSQL_PASSWORD" "\$MYSQL_DATABASE" < /var/www/html/init.sql'
    ```
    Вам будет предложено ввести пароль для пользователя MySQL. Пароль по умолчанию: `password`.
    2.
    Или выполните подключение к db вручную через PhpStrom и выполнить скрипт.
4. **Заполнение базы данных примерами данных**:
    ```sh
    docker-compose exec php php /var/www/html/fill_data.php
    ```

## Использование

1. **Добавление новой поездки**:
    - Откройте браузер и перейдите по адресу `http://localhost/add_trip.php`.
    - Заполните форму, указав регион, курьера, дату выезда и время в пути.
    - Нажмите кнопку "Добавить поездку".
    - Если курьер уже находится в поездке в выбранную дату, будет отображено сообщение об ошибке.

2. **Просмотр поездок**:
    - Откройте браузер и перейдите по адресу `http://localhost/view_trips.php`.
    - Вы можете фильтровать поездки по дате или просматривать все поездки, нажав кнопку "Просмотреть все".

## Структура проекта

- `docker-compose.yml`: Файл конфигурации Docker Compose.
- `html/`: Директория, содержащая файлы веб-приложения.
  - `add_trip.php`: PHP-скрипт для добавления новых поездок.
  - `fill_data.php`: PHP-скрипт для заполнения базы данных примерами данных.
  - `init.sql`: SQL-скрипт для инициализации базы данных.
  - `view_trips.php`: PHP-скрипт для просмотра поездок.
- `nginx/`: Директория, содержащая файл конфигурации Nginx.
  - `default.conf`: Файл конфигурации Nginx.